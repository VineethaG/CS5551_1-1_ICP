<!DOCTYPE >
<html lang="en" xmlns:fb="facebook">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.1/angular.min.js" type="application/javascript"></script>
    <script src="https://apis.google.com/js/api:client.js"></script>
    <script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>
    <script type="text/javascript" src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="style.css" rel="stylesheet">
    <script src="app.js"></script>

    <script>
        var app = angular.module('loginApplication', []);
        app.controller('loginController', function($scope,$http) {
            $scope.signIn = function () {
                var message = "";
                var username = $scope.username;
                var password = $scope.password;

                if (username.length == 0 && password.length == 0)
                    message = message + "Please enter username and password for login \n";
                else if (password.length == 0)
                    message = message + "Please enter password \n";
                else if (username.length == 0)
                    message = message + "Please enter username \n";
                if (message.length > 0) {
                    window.alert(message);
                    validate = false;
                }
                else
                    validate = true;

                if (validate == true) {
                    if (!(localStorage.getItem("username") != null
                            && localStorage.getItem("username") == username
                            && localStorage.getItem("password") != null
                            && localStorage.getItem("password") == password)) {
                        window.alert("Enter Valid Credentials");
                    }
                    else {
                        localStorage.setItem("type", "signin");
                        window.location.href = "home.html";
                    }
                }
            }
        });
    </script>
</head>
<body ng-app="loginApplication" ng-controller = "loginController" >
<header class="header" id="top">
    <div class="container">
        <div class="page-header"> <h1 align="center">Medication Take Away Application</h1></div>
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="form-body">
                    <ul class="nav nav-tabs final-login">
                        <li class="active"><a data-toggle="tab" href="#sectionA">Sign IN</a></li>
                        <li><a  href="Registration.html">Sign UP!</a></li>
                    </ul>
                    <div class="tab-content">
                        <div id="sectionA" class="tab-pane fade in active">
                            <div class="innter-form">
                                <div class="sa-innate-form" method="post" name="myLoginForm">
                                    <label class="text-label">User Name</label>
                                    <input type="text" name="userName" ng-model ="username"  placeholder="Enter Username">
                                    <label class="text-label">Password</label>
                                    <input type="password" ng-model ="password" name="password" placeholder="Enter Password">
                                    <button class="btn btn-info" style=" padding: 4px 17px;font-size: 14px;margin-top: -18px;" type="submit" ng-click="signIn()">Sign In</button>
                                    <!--<a href="#">Forgot Password?</a>-->
                                    <fb:login-button
                                                     scope="public_profile,email" onlogin="checkLoginState();"
                                                     class="fb-login-button" data-max-rows="1" data-size="medium"
                                                     data-button-type="login_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false">
                                    </fb:login-button>
                                    <div class="status" style="display: none;"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</header>
</body>
</html>